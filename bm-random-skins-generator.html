<html>
    <head>
        <title>Random skins generator</title>
        <style>
            textarea {
                display: block;
                height: 300px;
                width: 300px;
            }
        </style>
    </head>
    <body>
        <button onclick="generate_random_skin()">Generate skin</button>
        <button onclick="copy()">Copy skin</button>
        <textarea id="skin-json"></textarea>
        <script>
            area = document.getElementById("skin-json");
            defaultSkin = {
                "effect" : "0",
                "glow_color_1" : "-1",
                "author_name" : "Random generator",
                "pattern_two" : "0",
                "default_weapon" : "1",
                "pattern_color" : "0",
                "pattern" : "0",
                "effect_color" : "0",
                "base" : "0",
                "glow_color_2" : "-1",
                "base_color" : "0",
                "description" : "This is a skin generated randomly.",
                "pattern_two_color" : "0",
                "author_id" : "42",
                "name" : "Random"                
            };

            function random(min, max) {
                return Math.floor( (Math.random() * max) + min);
            }

            function randomColor() {
                red = random(0, 255);
                green = random(0, 255) * 256;
                blue = random(0, 255) * 65536;
                return red + green + blue;
            }

            function randomGlow() {
                if (random(0, 100) < 70) {
                    return -1;
                }
                return randomColor();
            }

            function toString(elm) {
                return "" + elm + "";
            }

            function generate_random_skin() {
                area.value = "";

                skin = defaultSkin;
                skin.effect = toString(random(0, 9));
                skin.glow_color_1 = toString(randomGlow());
                skin.pattern_two = toString(random(0, 14));
                skin.pattern_color = toString(randomColor());
                skin.pattern = toString(random(0, 14));
                skin.effect_color = toString(randomColor());
                skin.base = toString(random(0, 14));
                skin.glow_color_2 = toString(randomGlow());
                skin.base_color = toString(randomColor());
                skin.pattern_two_color = toString(randomColor());

                area.value = JSON.stringify(defaultSkin);
            }

            function copy() {
                area.select();
                area.setSelectionRange(0, 99999);
                document.execCommand("copy");
            }
        </script>
    </body>
</html>